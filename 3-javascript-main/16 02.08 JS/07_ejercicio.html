<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Complex Map</title>
</head>
<body>
  <ul class="underAges"></ul>
  <ul class="adults"></ul>
  
  <script>
    const underAgesDiv = document.querySelector('.underAges')
    const adultsDiv = document.querySelector('.adults')

    const names = [
      'Manuel',
      'José',
      'Francisco',
      'David',
      'Juan',
      'Javier',
      'José Antonio',
      'Daniel',
      'José Luis',
      'María Carmen',
      'María',
      'Carmen',
      'Ana María',
      'Josefa',
      'María Pilar',
      'Isabel',
      'Laura',
      'María Dolores',
      'María Teresa'
    ]

    const family_name = [
      'García',
      'Rodríguez',
      'González',
      'Fernández',
      'López',
      'Martínez',
      'Sánchez',
      'Pérez',
      'Gómez',
      'Martín'
    ]

    function randomNumber(maxNum) {
      return Math.floor(Math.random() * maxNum)
    }

    const users = names.map(name => ({ 
      firstName: name,
      lastName: family_name[randomNumber(family_name.length)],
      age: randomNumber(60)
    }))
    // console.log(users)

    /*
      Filtrar del array users todos los usuarios mayores y menores de edad.
      Cada uno de los grupos debe estar en una variable distinta.

      Una vez filtrados los usuarios, deberá crearse por cada variable un array de objetos
      donde cada usuario tenga nombre y edad.

      Finalmente tomar cada uno de esos arrays filtrados e imprimirlos en el html
      especificando: ${nombre}, ${edad} años.
    */

  //  const underAges = users.filter(user => user['age'] < 18)
    const adultAge = 18
    const underAges = users.filter(user => user.age < adultAge)
    const adults = users.filter(user => user.age >= adultAge)

    const underAgesArr = underAges.map(user => {
      return {
        name: user.firstName,
        age: user.age
      }
    })

    const adultsArr = adults.map(user => {
      return {
        name: user.firstName,
        age: user.age
      }
    })

    for (const user of underAgesArr) {
      underAgesDiv.innerHTML += `<li>${user.name}, ${user.age} años.</li>`
    }
    
    for (const user of adultsArr) {
      adultsDiv.innerHTML += `<li>${user.name}, ${user.age} años.</li>`
    }
  </script>
</body>
</html>